<!DOCTYPE html>
<html class="writer-html5" lang="es" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gramáticas &mdash; documentación de Python, Big data, Machine Learning y Cloud Computing - 0.1</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script src="../../../_static/translations.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Índice" href="../../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../../search.html" />
    <link rel="next" title="Gramáticas con características" href="2-09_gramaticas_con_caracteristicas.html" />
    <link rel="prev" title="Reconocimiento de entidades y extracción de relaciones" href="1-07_reconocimiento_de_entidades_y_relaciones.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Python, Big data, Machine Learning y Cloud Computing
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Buscar documentos" aria-label="Buscar documentos" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Temas:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../handling_data.html">Manipulación de datos usando Python</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../introduccion_a_analitica/intro_analitica.html">Introducción a Analítica</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../intro_python/introduccion.html">Introducción a Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../jupyterlab_colab/herramientas.html">Herramientas del Curso</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../control_de_flujo/control_de_flujo.html">Herramientas de Control de Flujo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../estructuras_de_datos/estructuras_de_datos.html">Estructuras de Datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../entrada_salida/entrada_salida.html">Entrada y Salida</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../errores_excepciones/errores_excepciones.html">Manejo de errores y excepciones</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ejemplos_analisis_datos/ejemplos_analisis_datos.html">Python: Ejemplos de Análisis de Datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manipulacion_datos/manipulacion_datos.html">Manipulación de Datos con Pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manipulacion_datos_sqlite/manipulacion_datos_sqlite.html">Manipulación de Datos con SQLite</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ingestion_datos_usando_python/ingestion_datos_usando_python.html">Ingestion de datos usand Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../limpieza_de_datos/limpieza_de_datos.html">Limpieza de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../matplotlib/matplotlib.html">Visualización de datos con Matplotlib</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../narrativa_de_datos/narrativa_de_datos.html">Narrativa de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../estadistica_descriptiva/estadistica_descriptiva.html">Estadística Descriptiva</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../mineria_de_texto.html">Minería de texto</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="1-01_operaciones_basicas_sobre_texto.html">Operaciones básicas sobre texto usando NLTK</a></li>
<li class="toctree-l3"><a class="reference internal" href="1-01_pyparsing.html">Pyparsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="1-01_TextBlob.html">Introducción al procesamiento básico de texto usando TextBlob</a></li>
<li class="toctree-l3"><a class="reference internal" href="1-02_expresiones_regulares.html">Expresiones regulares en NLTK</a></li>
<li class="toctree-l3"><a class="reference internal" href="1-03_transformaciones_basicas.html">Transformaciones básicas de texto</a></li>
<li class="toctree-l3"><a class="reference internal" href="1-04_part-of-speach_tagging.html">Part-of-Spech (POS) Tagging / Categorización Léxica</a></li>
<li class="toctree-l3"><a class="reference internal" href="1-05_tagging_automatico.html">Tagging automático</a></li>
<li class="toctree-l3"><a class="reference internal" href="1-06_extraccion_de_informaacion.html">Extracción de información</a></li>
<li class="toctree-l3"><a class="reference internal" href="1-07_reconocimiento_de_entidades_y_relaciones.html">Reconocimiento de entidades y extracción de relaciones</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Gramáticas</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Gramática-libre-del-contexto">Gramática libre del contexto</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Parser-recursivo-descendente">Parser recursivo descendente</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Shift-reduce-Parsing">Shift-reduce Parsing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="2-09_gramaticas_con_caracteristicas.html">Gramáticas con características</a></li>
<li class="toctree-l3"><a class="reference internal" href="2-10_consultas_en_bd.html">Consultas en bases de datos</a></li>
<li class="toctree-l3"><a class="reference internal" href="2-11_logica_de_primer_orden.html">Lógica de primer orden</a></li>
<li class="toctree-l3"><a class="reference internal" href="2-12_shallow-parsing.html">Shallow Parsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="3-03_esquemas_de_representacion.html">Esquemas de representacion</a></li>
<li class="toctree-l3"><a class="reference internal" href="3-05_clasificacion_de_textos.html">Construcción de clasificadores</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../big_data.html">Big Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../machine_learning.html">Machine Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cloud_computing.html">Cloud Computing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../data_visualization.html">Data Visualization</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Python, Big data, Machine Learning y Cloud Computing</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../handling_data.html">Manipulación de datos usando Python</a></li>
          <li class="breadcrumb-item"><a href="../mineria_de_texto.html">Minería de texto</a></li>
      <li class="breadcrumb-item active">Gramáticas</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/ciencia_datos/mineria_de_texto/notebooks/2-08_gramaticas.ipynb.txt" rel="nofollow"> Ver código fuente de la página</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars and line breaks on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
    white-space: pre;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
.jp-RenderedHTMLCommon table,
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.jp-RenderedHTMLCommon thead,
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.jp-RenderedHTMLCommon tr,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon td,
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.jp-RenderedHTMLCommon th,
div.rendered_html th {
  font-weight: bold;
}
.jp-RenderedHTMLCommon tbody tr:nth-child(odd),
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.jp-RenderedHTMLCommon tbody tr:hover,
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="Gramáticas">
<h1>Gramáticas<a class="headerlink" href="#Gramáticas" title="Enlace permanente a este encabezado"></a></h1>
<ul class="simple">
<li><p><em>30 min</em> | Última modificación: Diciembre 10, 2020</p></li>
</ul>
<p><a class="reference external" href="http://www.nltk.org/book/">http://www.nltk.org/book/</a></p>
<p>Text Analytics with Python</p>
<p><strong>Ejemplo de una gramática ambigüa</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>S -&gt; NP VP

PP -&gt; P NP

NP -&gt; Det N
   |  Det N PP
   | &#39;I&#39;

VP -&gt; V NP
   |  VP PP

Det -&gt; &#39;an&#39;
    | &#39;my&#39;

N -&gt; &#39;elephant&#39;
  |  &#39;pajamas&#39;

V -&gt; &#39;shot&#39;

P -&gt; &#39;in&#39;
</pre></div>
</div>
<p>Aplicación a la frase:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>I shot and elephant in my pijamas
</pre></div>
</div>
<p><strong>Aplicación (parte 1)</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Frase                                    Regla           Stack
------------------------------------------------------------------------------------------------------
&gt;I&lt; shot an elephant in my pijamas                       S

&gt;I&lt; shot an elephant in my pijamas       S -&gt; NP VP      (S NP VP)

&gt;I&lt; shot an elephant in my pijamas       NP -&gt; Det N     (S NP VP)
Falla Det -&gt; &#39;an&#39; | &#39;my&#39; pero &gt;I&lt;

&gt;I&lt; shot an elephant in my pijamas       NP -&gt; Det N PP  (S NP VP)
Falla Det -&gt; &#39;an&#39; | &#39;my&#39; pero &gt;I&lt;

&gt;I&lt; shot an elephant in my pijamas       NP -&gt; &#39;I&#39;       (S (NP I) VP)

&gt;shot&lt; an elephant in my pijamas         VP -&gt; V NP      (S (NP I) (VP V NP))
Ambiguo  VP tiene dos posibles reglas

&gt;shot&lt; an elephant in my pijamas         V -&gt; &#39;shot&#39;     (S (NP I) (VP (V shot) NP))

&gt;an&lt; elephant in my pijamas              NP -&gt; Det N     (S (NP I) (VP (V shot) (NP  Det N)))

&gt;an&lt; elephant in my pijamas              Det -&gt; &#39;an&#39;     (S (NP I) (VP (V shot) (NP  (Det an) N)))

&gt;elephant&lt; in my pijamas                 N -&gt; &#39;Elephant&#39; (S (NP I) (VP (V shot) (NP  (Det an) (N Elephant)))
Falla. No se reconocio toda la frase
</pre></div>
</div>
<p><strong>Aplicación (parte 2)</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Frase                                    Regla           Stack
------------------------------------------------------------------------------------------------------
(de la tabla anterior)

&gt;I&lt; shot an elephant in my pijamas       NP -&gt; &#39;I&#39;       (S (NP I) VP)

&gt;shot&lt; an elephant in my pijamas         VP -&gt; VP PP     (S (NP I) (VP VP PP))
Ambiguo  VP tiene dos posibles reglas

&gt;shot&lt; an elephant in my pijamas         VP -&gt; V NP      (S (NP I)
Ambiguo  VP tiene dos posibles reglas                       (VP
                                                              (VP V NP)
                                                              PP))


&gt;shot&lt; an elephant in my pijamas         V -&gt; shot       (S (NP I)
                                                            (VP
                                                              (VP (V shot) NP)
                                                              PP))

&gt;an&lt; elephant in my pijamas              NP -&gt; Det N     (S (NP I)
Dos posibles reglas                                         (VP
                                                              (VP (V shot) (NP Det N))
                                                              PP))


&gt;an&lt; elephant in my pijamas              Det -&gt; an       (S (NP I)
                                                            (VP
                                                              (VP (V shot) (NP (Det an) N))
                                                              PP))

&gt;elephant&lt; in my pijamas                 N -&gt; &#39;elephant&#39; (S (NP I)
                                                            (VP
                                                              (VP (V shot) (NP (Det an) (N elephant))
                                                              PP))

&gt;in&lt; my pijamas                          PP -&gt; P NP      (S (NP I)
                                                            (VP
                                                              (VP (V shot) (NP (Det an) (N elephant))
                                                              (PP P NP)))

&gt;in&lt; my pijamas                          P -&gt; in         (S (NP I)
                                                            (VP
                                                               (VP (V shot) (NP (Det an) (N elephant))
                                                               (PP (P in) NP)))

&gt;my&lt; pijamas                             NP -&gt; Det N     (S (NP I)
                                                            (VP
                                                              (VP (V shot) (NP (Det an) (N elephant))
                                                              (PP (P in) (NP Det N))))

&gt;my&lt; pijamas                             Det -&gt; my       (S (NP I)
                                                            (VP
                                                              (VP (V shot) (NP (Det an) (N elephant))
                                                              (PP (P in) (NP (Det my) N))))

&gt;pijamas&lt;                                N -&gt; pijamas    (S (NP I)
                                                            (VP
                                                              (VP (V shot) (NP (Det an) (N elephant))
                                                              (PP (P in) (NP (Det my) (N pijamas)))))


&gt;&lt;                                                       (S (NP I)
                                                            (VP
                                                              (VP (V shot) (NP (Det an) (N elephant))
                                                              (PP (P in) (NP (Det my) (N pijamas)))))
</pre></div>
</div>
<p><strong>Ejercicio</strong> Complete la tabla siguiente:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Frase                                    Regla           Stack
------------------------------------------------------------------------------------------------------
(de la tabla inicial)

&gt;I&lt; shot an elephant in my pijamas       NP -&gt; &#39;I&#39;       (S (NP I) VP)

&gt;shot&lt; an elephant in my pijamas         VP -&gt; V NP      (S (NP I)
                                                            (VP
                                                              V
                                                              NP))

(Continue)
</pre></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">nltk</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## Implementación en NLTK</span>
<span class="c1">##</span>
<span class="c1">##</span>
<span class="n">groucho_grammar</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">CFG</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    S   -&gt; NP VP</span>

<span class="sd">    PP  -&gt; P NP</span>

<span class="sd">    NP  -&gt; Det N  |  Det N PP  |  &#39;I&#39;</span>

<span class="sd">    VP  -&gt; V NP  |  VP PP</span>

<span class="sd">    Det -&gt; &#39;an&#39;  |  &#39;my&#39;</span>

<span class="sd">    N   -&gt; &#39;elephant&#39;  |  &#39;pajamas&#39;</span>

<span class="sd">    V   -&gt; &#39;shot&#39;</span>

<span class="sd">    P   -&gt; &#39;in&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
<span class="p">)</span>

<span class="c1">##</span>
<span class="c1">## Dos posibles descomposiciones de la misma frase</span>
<span class="c1">## usando la gramatica anterior</span>
<span class="c1">##</span>
<span class="n">sent</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;I&quot;</span><span class="p">,</span> <span class="s2">&quot;shot&quot;</span><span class="p">,</span> <span class="s2">&quot;an&quot;</span><span class="p">,</span> <span class="s2">&quot;elephant&quot;</span><span class="p">,</span> <span class="s2">&quot;in&quot;</span><span class="p">,</span> <span class="s2">&quot;my&quot;</span><span class="p">,</span> <span class="s2">&quot;pajamas&quot;</span><span class="p">]</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">ChartParser</span><span class="p">(</span><span class="n">groucho_grammar</span><span class="p">)</span>
<span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">sent</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(S
  (NP I)
  (VP
    (VP (V shot) (NP (Det an) (N elephant)))
    (PP (P in) (NP (Det my) (N pajamas)))))
(S
  (NP I)
  (VP
    (V shot)
    (NP (Det an) (N elephant) (PP (P in) (NP (Det my) (N pajamas))))))
</pre></div></div>
</div>
<section id="Gramática-libre-del-contexto">
<h2>Gramática libre del contexto<a class="headerlink" href="#Gramática-libre-del-contexto" title="Enlace permanente a este encabezado"></a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## Gramática libre del contexto</span>
<span class="c1">##   Ejemplo de una gramática estructuralmente ambigua</span>
<span class="c1">##</span>
<span class="n">grammar1</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">CFG</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    S -&gt; NP VP</span>

<span class="sd">    VP -&gt; V NP | V NP PP</span>

<span class="sd">    PP -&gt; P NP</span>

<span class="sd">    V -&gt; &quot;saw&quot; | &quot;ate&quot; | &quot;walked&quot;</span>

<span class="sd">    NP -&gt; &quot;John&quot; | &quot;Mary&quot; | &quot;Bob&quot; | Det N | Det N PP</span>

<span class="sd">    Det -&gt; &quot;a&quot; | &quot;an&quot; | &quot;the&quot; | &quot;my&quot;</span>

<span class="sd">    N -&gt; &quot;man&quot; | &quot;dog&quot; | &quot;cat&quot; | &quot;telescope&quot; | &quot;park&quot;</span>

<span class="sd">    P -&gt; &quot;in&quot; | &quot;on&quot; | &quot;by&quot; | &quot;with&quot;</span>
<span class="sd">    &quot;&quot;&quot;</span>
<span class="p">)</span>

<span class="n">sent</span> <span class="o">=</span> <span class="s2">&quot;Mary saw Bob&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="n">rd_parser</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">RecursiveDescentParser</span><span class="p">(</span><span class="n">grammar1</span><span class="p">)</span>
<span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">rd_parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">sent</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>

<span class="c1">##</span>
<span class="c1">##   S    Sentence</span>
<span class="c1">##   NP   Noun phrase</span>
<span class="c1">##   VP   Verb phrase</span>
<span class="c1">##   PP   Prepositional phrase</span>
<span class="c1">##   Det  Determiner</span>
<span class="c1">##   N    Noun</span>
<span class="c1">##   V    Verb</span>
<span class="c1">##   P    Preposition</span>
<span class="c1">##</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(S (NP Mary) (VP (V saw) (NP Bob)))
</pre></div></div>
</div>
<p><strong>Ejercicio</strong> Construya el arbol que deriva la expresión anterior.</p>
<p><strong>Escritura de y almacenamiento de una gramática</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%writefile</span> mygrammar.cfg
<span class="n">S</span> <span class="o">-&gt;</span> <span class="n">NP</span> <span class="n">VP</span>
<span class="n">VP</span> <span class="o">-&gt;</span> <span class="n">V</span> <span class="n">NP</span> <span class="o">|</span> <span class="n">V</span> <span class="n">NP</span> <span class="n">PP</span>
<span class="n">PP</span> <span class="o">-&gt;</span> <span class="n">P</span> <span class="n">NP</span>
<span class="n">V</span> <span class="o">-&gt;</span> <span class="s2">&quot;saw&quot;</span> <span class="o">|</span> <span class="s2">&quot;ate&quot;</span> <span class="o">|</span> <span class="s2">&quot;walked&quot;</span>
<span class="n">NP</span> <span class="o">-&gt;</span> <span class="s2">&quot;John&quot;</span> <span class="o">|</span> <span class="s2">&quot;Mary&quot;</span> <span class="o">|</span> <span class="s2">&quot;Bob&quot;</span> <span class="o">|</span> <span class="n">Det</span> <span class="n">N</span> <span class="o">|</span> <span class="n">Det</span> <span class="n">N</span> <span class="n">PP</span>
<span class="n">Det</span> <span class="o">-&gt;</span> <span class="s2">&quot;a&quot;</span> <span class="o">|</span> <span class="s2">&quot;an&quot;</span> <span class="o">|</span> <span class="s2">&quot;the&quot;</span> <span class="o">|</span> <span class="s2">&quot;my&quot;</span>
<span class="n">N</span> <span class="o">-&gt;</span> <span class="s2">&quot;man&quot;</span> <span class="o">|</span> <span class="s2">&quot;dog&quot;</span> <span class="o">|</span> <span class="s2">&quot;cat&quot;</span> <span class="o">|</span> <span class="s2">&quot;telescope&quot;</span> <span class="o">|</span> <span class="s2">&quot;park&quot;</span>
<span class="n">P</span> <span class="o">-&gt;</span> <span class="s2">&quot;in&quot;</span> <span class="o">|</span> <span class="s2">&quot;on&quot;</span> <span class="o">|</span> <span class="s2">&quot;by&quot;</span> <span class="o">|</span> <span class="s2">&quot;with&quot;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Overwriting mygrammar.cfg
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## Lectura del archivo y parsing de la frase</span>
<span class="c1">##</span>
<span class="kn">import</span> <span class="nn">nltk</span>

<span class="n">grammar1</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;file:mygrammar.cfg&#39;</span><span class="p">)</span>
<span class="n">sent</span> <span class="o">=</span> <span class="s2">&quot;Mary saw Bob&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="n">rd_parser</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">RecursiveDescentParser</span><span class="p">(</span><span class="n">grammar1</span><span class="p">,</span> <span class="n">trace</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">rd_parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">sent</span><span class="p">):</span>
     <span class="nb">print</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Parsing &#39;Mary saw Bob&#39;
Found a parse:
(S (NP Mary) (VP (V saw) (NP Bob)))
(S (NP Mary) (VP (V saw) (NP Bob)))
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## Gramática recursiva</span>
<span class="c1">##   Se dice que una gramática es recursiva si el nombre</span>
<span class="c1">##   de la regla también aparece al lado derecho</span>
<span class="c1">##   - Recursión directa:  Nom -&gt; Adj Nom</span>
<span class="c1">##   - Recursión indirecta: S -&gt; NP VP  &amp;  VP -&gt; V S</span>
<span class="c1">##</span>
<span class="n">grammar2</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">CFG</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    S  -&gt; NP VP</span>

<span class="sd">    NP -&gt; Det Nom | PropN</span>

<span class="sd">    Nom -&gt; Adj Nom | N</span>

<span class="sd">    VP -&gt; V Adj | V NP | V S | V NP PP</span>

<span class="sd">    PP -&gt; P NP</span>

<span class="sd">    PropN -&gt; &#39;Buster&#39; | &#39;Chatterer&#39; | &#39;Joe&#39;</span>

<span class="sd">    Det -&gt; &#39;the&#39; | &#39;a&#39;</span>

<span class="sd">    N -&gt; &#39;bear&#39; | &#39;squirrel&#39; | &#39;tree&#39; | &#39;fish&#39; | &#39;log&#39;</span>

<span class="sd">    Adj  -&gt; &#39;angry&#39; | &#39;frightened&#39; |  &#39;little&#39; | &#39;tall&#39;</span>

<span class="sd">    V -&gt;  &#39;chased&#39;  | &#39;saw&#39; | &#39;said&#39; | &#39;thought&#39; | &#39;was&#39; | &#39;put&#39;</span>

<span class="sd">    P -&gt; &#39;on&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## Ejemplo de recursión por frases nominales anidadas</span>
<span class="c1">##</span>
<span class="n">sent</span> <span class="o">=</span> <span class="s2">&quot;the angry bear chased the frightened little squirrel&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="n">rd_parser</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">RecursiveDescentParser</span><span class="p">(</span><span class="n">grammar2</span><span class="p">)</span>
<span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">rd_parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">sent</span><span class="p">):</span>
     <span class="nb">print</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(S
  (NP (Det the) (Nom (Adj angry) (Nom (N bear))))
  (VP
    (V chased)
    (NP
      (Det the)
      (Nom (Adj frightened) (Nom (Adj little) (Nom (N squirrel)))))))
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## Ejemplo de recursión por sentencias anidadas</span>
<span class="c1">##</span>
<span class="n">sent</span> <span class="o">=</span> <span class="s2">&quot;Chatterer said Buster thought the tree was tall&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="n">rd_parser</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">RecursiveDescentParser</span><span class="p">(</span><span class="n">grammar2</span><span class="p">)</span>
<span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">rd_parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">sent</span><span class="p">):</span>
     <span class="nb">print</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(S
  (NP (PropN Chatterer))
  (VP
    (V said)
    (S
      (NP (PropN Buster))
      (VP
        (V thought)
        (S (NP (Det the) (Nom (N tree))) (VP (V was) (Adj tall)))))))
</pre></div></div>
</div>
</section>
<section id="Parser-recursivo-descendente">
<h2>Parser recursivo descendente<a class="headerlink" href="#Parser-recursivo-descendente" title="Enlace permanente a este encabezado"></a></h2>
<p>Este parser NO puede manejar recusión por la izquierda (X -&gt; X Y) ya que genera ciclos infinitos.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">grammar1</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">CFG</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    S -&gt; NP VP</span>

<span class="sd">    VP -&gt; V NP  |  V NP PP</span>

<span class="sd">    PP -&gt; P NP</span>

<span class="sd">    V -&gt; &quot;saw&quot;  |  &quot;ate&quot;  |  &quot;walked&quot;</span>

<span class="sd">    NP -&gt; &quot;John&quot;  |  &quot;Mary&quot;  |  &quot;Bob&quot;  |  Det N  |  Det N PP</span>

<span class="sd">    Det -&gt; &quot;a&quot;  |  &quot;an&quot;  |  &quot;the&quot;  |  &quot;my&quot;</span>

<span class="sd">    N -&gt; &quot;man&quot;  |  &quot;dog&quot;  |  &quot;cat&quot; |  &quot;telescope&quot;  |  &quot;park&quot;</span>

<span class="sd">    P -&gt; &quot;in&quot;  |  &quot;on&quot;  |  &quot;by&quot;  |  &quot;with&quot;</span>
<span class="sd">    &quot;&quot;&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Parsing de la frase “Mary saw a dog”.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Frase                    Regla           Stack
------------------------------------------------------------------------------------------------------
&gt;Mary&lt; saw a dog                         S

&gt;Mary&lt; saw a dog         S -&gt; NP VP      (S NP VP)

&gt;Mary&lt; saw a dog         NP -&gt; &quot;John&quot;    (S NP VP)          Falla, backtracking

&gt;Mary&lt; saw a dog         NP -&gt; &quot;Mary&quot;    (S (NP Mary) VP)   Match, consume el símbolo

&gt;saw&lt; a dog              VP -&gt; V NP      (S
                                           (NP Mary)
                                           (VP V NP))

&gt;saw&lt; a dog              V -&gt; &quot;saw&quot;      (S                 Match, consume el símbolo
                                           (NP Mary)
                                           (VP (V saw) NP))

&gt;a&lt; dog                  NP -&gt; &quot;John&quot;    (S                 Falla, backtracking
                                           (NP Mary)
                                           (VP (V saw) NP))

&gt;a&lt; dog                  NP -&gt; &quot;Mary&quot;    (S                 Falla, backtracking
                                           (NP Mary)
                                           (VP (V saw) NP))

&gt;a&lt; dog                  NP -&gt; &quot;Bob&quot;     (S                 Falla, backtracking
                                           (NP Mary)
                                           (VP (V saw) NP))

&gt;a&lt; dog                  NP -&gt; Det N     (S
                                           (NP Mary)
                                           (VP
                                             (V saw)
                                             (NP Det N)))

&gt;a&lt; dog                  Det -&gt; &quot;a&quot;      (S                 Match, consume el símbolo
                                           (NP Mary)
                                           (VP
                                             (V saw)
                                             (NP (Det a) N)))

&gt;dog&lt;                    N -&gt; &quot;man&quot;      (S                 Falla, backtracking
                                           (NP Mary)
                                           (VP
                                             (V saw)
                                             (NP (Det a) N)))

&gt;dog&lt;                    N -&gt; &quot;dog&quot;      (S                 Match, consume el símbolo
                                           (NP Mary)
                                           (VP
                                             (V saw)
                                             (NP (Det a) (N dog))))




&gt;&lt;                       N -&gt; &quot;dog&quot;      (S
                                           (NP Mary)
                                           (VP
                                             (V saw)
                                             (NP (Det a) (N dog))))
</pre></div>
</div>
<p>La sentencia fue reconocida correctamente: No hay símbolos por consumir, y no quedan reglas por reemplazar en el stack.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## Llame la función usando diferentes valores para el</span>
<span class="c1">## parámetro trace</span>
<span class="c1">##</span>
<span class="n">rd_parser</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">RecursiveDescentParser</span><span class="p">(</span><span class="n">grammar1</span><span class="p">,</span> <span class="n">trace</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">sent</span> <span class="o">=</span> <span class="s1">&#39;Mary saw a dog&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">rd_parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">sent</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Parsing &#39;Mary saw a dog&#39;
Found a parse:
(S (NP Mary) (VP (V saw) (NP (Det a) (N dog))))
(S (NP Mary) (VP (V saw) (NP (Det a) (N dog))))
</pre></div></div>
</div>
</section>
<section id="Shift-reduce-Parsing">
<h2>Shift-reduce Parsing<a class="headerlink" href="#Shift-reduce-Parsing" title="Enlace permanente a este encabezado"></a></h2>
<p>Operación de un parser shift-reduce.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>  S -&gt; NP VP

 VP -&gt; V NP
    | V NP PP

 PP -&gt; P NP

  V -&gt; &quot;saw&quot;
    | &quot;ate&quot;
    | &quot;walked&quot;

 NP -&gt; &quot;John&quot;
    | &quot;Mary&quot;
    | &quot;Bob&quot;
    | Det N
    | Det N PP

Det -&gt; &quot;a&quot;
    | &quot;an&quot;
    | &quot;the&quot;
    | &quot;my&quot;

  N -&gt; &quot;man&quot;
    | &quot;dog&quot;
    | &quot;cat&quot;
    | &quot;telescope&quot;
    | &quot;park&quot;

  P -&gt; &quot;in&quot;
    | &quot;on&quot;
    | &quot;by&quot;
    | &quot;with&quot;
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Op.     Regla          Stack                     Remaining Text
-----------------------------------------------------------------------------------
                                         the dog saw a man in the park&lt;

shift                  the               dog saw a man in the park&lt;

reduce   Det -&gt; the    (Det the)         dog saw a man in the park&lt;

shift                  (Det the)         saw a man in the park&lt;
                       dog

reduce  N -&gt; dog       (Det the)         saw a man in the park&lt;
                       (N dog)

reduce  NP -&gt; Det N    (NP               saw a man in the park&lt;
                         (Det the)
                         (N dog))

shift                  (NP               a man in the park&lt;
                         (Det the)
                         (N dog))
                       saw

reduce  V -&gt; saw       (NP               a man in the park&lt;
                         (Det the)
                         (N dog))
                       (V saw)

shift                  (NP               man in the park&lt;
                         (Det the)
                         (N dog))
                       (V saw)
                       a

reduce  Det -&gt; a       (NP               man in the park&lt;
                         (Det the)
                         (N dog))
                       (V saw)
                       (Det a)

shift                  (NP               in the park&lt;
                         (Det the)
                         (N dog))
                       (V saw)
                       (Det a)
                       man

reduce  N -&gt; man       (NP               in the park&lt;
                         (Det the)
                         (N dog))
                       (V saw)
                       (Det a)
                       (N man)

reduce  NP -&gt; Det N    (NP               in the park&lt;
                         (Det the)
                         (N dog))
                       (V saw)
                       (NP
                         (Det a)
                         (N man))

shift                  (NP               the park&lt;
                         (Det the)
                         (N dog))
                       (V saw)
                       (NP
                         (Det a)
                         (N man))
                       in

reduce  P -&gt; in        (NP               the park&lt;
                         (Det the)
                         (N dog))
                       (V saw)
                       (NP
                         (Det a)
                         (N man))
                       (P in)

shift                  (NP               park&lt;
                         (Det the)
                         (N dog))
                       (V saw)
                       (NP
                         (Det a)
                         (N man))
                       (P in)
                       the

reduce  P -&gt; in        (NP               park&lt;
                         (Det the)
                         (N dog))
                       (V saw)
                       (NP
                         (Det a)
                         (N man))
                       (P in)
                       (Det the)

shift                  (NP               &lt;
                         (Det the)
                         (N dog))
                       (V saw)
                       (NP
                         (Det a)
                         (N man))
                       (P in)
                       (Det the)
                       park


reduce  N -&gt; park      (NP               &lt;
                         (Det the)
                         (N dog))
                       (V saw)
                       (NP
                         (Det a)
                         (N man))
                       (P in)
                       (Det the)
                       (N park)

reduce  NP -&gt; Det N    (NP               &lt;
                         (Det the)
                         (N dog))
                       (V saw)
                       (NP
                         (Det a)
                         (N man))
                       (P in)
                       (NP
                         (Det the)
                         (N park))

reduce  PP -&gt; P NP     (NP               &lt;
                         (Det the)
                         (N dog))
                       (V saw)
                       (NP
                         (Det a)
                         (N man))
                       (PP
                         (P in)
                         (NP
                           (Det the)
                           (N park)))

reduce  NP -&gt; NP PP    (NP               &lt;
                         (Det the)
                         (N dog))
                       (V saw)
                       (NP
                         (NP
                           (Det a)
                           (N man))
                         (PP
                           (P in)
                           (NP
                             (Det the)
                             (N park))))

reduce  VP -&gt; V VP     (NP               &lt;
                         (Det the)
                         (N dog))
                       (VP
                         (V saw)
                         (NP
                           (NP
                             (Det a)
                             (N man))
                           (PP
                             (P in)
                             (NP
                               (Det the)
                               (N park)))))

reduce  S -&gt; NP VP     (S                 &lt;
                         (NP
                           (Det the)
                           (N dog))
                         (VP
                           (V saw)
                           (NP
                             (NP
                               (Det a)
                               (N man))
                             (PP
                               (P in)
                               (NP
                                 (Det the)
                                 (N park))))))
</pre></div>
</div>
<p>OK! se llego a <code class="docutils literal notranslate"><span class="pre">S</span></code> y no hay texto pendiente por procesar.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">##</span>
<span class="c1">## Ejemplo Shift-reduce parsing</span>
<span class="c1">##</span>
<span class="n">sr_parser</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">ShiftReduceParser</span><span class="p">(</span><span class="n">grammar1</span><span class="p">,</span> <span class="n">trace</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">sent</span> <span class="o">=</span> <span class="s1">&#39;Mary saw a dog&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">sr_parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">sent</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Parsing &#39;Mary saw a dog&#39;
    [ * Mary saw a dog]
    [ &#39;Mary&#39; * saw a dog]
    [ NP &#39;saw&#39; * a dog]
    [ NP V &#39;a&#39; * dog]
    [ NP V Det &#39;dog&#39; * ]
(S (NP Mary) (VP (V saw) (NP (Det a) (N dog))))
</pre></div></div>
</div>
<p><strong>Ejercicio.—</strong> Aplique un parser shift-reduce a la frase “Mary saw a dog”.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pie de página">
        <a href="1-07_reconocimiento_de_entidades_y_relaciones.html" class="btn btn-neutral float-left" title="Reconocimiento de entidades y extracción de relaciones" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Anterior</a>
        <a href="2-09_gramaticas_con_caracteristicas.html" class="btn btn-neutral float-right" title="Gramáticas con características" accesskey="n" rel="next">Siguiente <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Derechos de autor 2022, Santiago Arboleda.</p>
  </div>

  Compilado con <a href="https://www.sphinx-doc.org/">Sphinx</a> usando un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">tema</a>
    proporcionado por <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>